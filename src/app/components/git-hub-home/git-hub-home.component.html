<app-loading *ngIf="isLoading"></app-loading>
<h1>{{ getTranslation('welcome') }}</h1>

<!-- <p>{{ getTranslation('description') }}</p> -->
<span [innerHtml]="getTranslation('description')"></span>

<h2 id="oranizations">
    <strong>{{ getTranslation('organizations') }}</strong
    ><small>({{ dataGroupedSanitized.length }})</small>
</h2>

<ul>
    <li *ngFor="let organization of getOrganizations(dataGroupedSanitized)">
        <a *ngIf="organization.organizationUrl != ''" [href]="organization.organizationUrl">{{ organization.organizationName }}</a>
    </li>
</ul>

<h2 id="repositories">
    <strong>{{ getTranslation('repositories') }}</strong>
</h2>

<div class="accordion" id="accordionExample">
    <div class="card" *ngFor="let organization of dataGroupedSanitized">
        <div class="card-header" id="headingOne">
            <h2 class="mb-0">
                <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true">
                    <h5>
                        {{ organization.organizationUrl === '' ? this.getTranslation('notInOrg') : organization.organizationName }}
                        <small>({{ organization.repositories.length }})</small>
                    </h5>
                </button>
            </h2>
        </div>

        <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
            <ul class="list-group">
                <li class="list-group-item" *ngFor="let repository of organization.repositories">
                    <a [href]="repository.repositoryUrl">{{ repository.repositoryName }}</a> -
                    <a *ngIf="repository.hasPages" [href]="repository.gitHubPage"> {{ getTranslation('previewPage') }}</a>
                    <a *ngIf="!repository.hasPages"> {{ getTranslation('noPreviewPage') }}</a>
                </li>
            </ul>
        </div>
    </div>
</div>